# 如何根据业务封装自己的功能控件

### 查询回显input的封装

最近有幸在做一个管理系统采用的是vue+element-ui, 表单页面非常多, 而且都出奇的大,在多页面开发的时候做大表单的优缺点我大概先说一下, 我们的任务是, 基于现在的工具, 使他更简洁, 功能也不差, 而且更利于开发, 维护


先说一下多页面开始时大表单开发的优点: 

1. 开发过程方便, 多个人独立开发互不干扰
2. 项目目录清晰, 每个页面都是单独存在可用的
3. 对于多个系统嵌套的项目来说相对灵活, 页面嵌套用iframe, 通过postmessage, onmessage, url传递信息, 可以不同的web页面之间相互传递信息

这是缺点:

1. 代码重复, js虽然可以提为公共, 但页面html大部分还是要不断复制粘贴, 即使是功能近似的页面可能也要写很多遍
2. 页面渲染速度慢, 每个表单都比较大型, 以及还要初始化数据等等, 会使页面卡顿
3. 收集数据难, 虽然有默认的form-submit方法, 但对于很多大型系统来说, 直接提交并不能满足相应的需求
4. 更新迭代维护困难, 如果多个页面重复的一个地方有问题要改, 那要把其余十几个都再整理一遍, 想想看就有点头疼

后来大佬们把页面通过iframe, 把组件拼合起来, 实现了早先的组件开发, 也模拟了最早的单页面, 向大佬致敬, 但是iframe的使用注定了他"不简单"

扯远了, 现在自从用了框架, 整个人都飘了, 单页面组件开发, 太赛了!

##### 正题

表单中常有的功能是一个input绑定一个按钮, 当我点击按钮的时候, 弹出查询框, 里面有个小列表, 查到数据后点一行再回显, 很简单的需求, 但是绑定了业务, 他就不再简单所以我们分几步把这个组件捋出来

1. 分析需求: 我们需要什么元素?
  
	a. 一个input文字框, 一个按钮, 一个弹框(外部)
	b. 一个form表单, 一个table, 分页(内部)
	c. n个条件框, 查询按钮, 重置按钮, 其他功能按钮(form内部)

通过整理元素我们知道, 有几样东西是固定的 整个a, 一个form, 一个不知道几列的table, 一个分页功能,查询, 重置按钮

整理出这个我们就可以写第一步把元素构建全, 可能有n个的我们就用一个先占个位置
<!-- #### "懒人(dalao)"让世界进步



### ii. 步骤式表单开发

优点:

1. 可简单复用, 把相似的页面设计在一个页面中, 一个页面作为一个步骤
2. 逻辑清晰, 有先后顺序, 对用户有引导作用
3. 使页面简洁, 更易于维护, 每个页面都是小表单

缺点:

1. 如果用户做完一步想看上一步要来回切换(这有需求的问题了, 如果用户要经常看上一个页面, 那就不能用这种方案解决了)
2. 要多个表单提交,  -->